<div class="dashboard-container">
  <!-- Menü‐Button -->
  <div
    class="menu-button"
    [ngClass]="{ active: menuOpen || activeIndex !== null }"
    (click)="onMenuButtonClick()"
    [ngStyle]="getMenuStyle()"
  >
    <span class="menu-label">Menu</span>
  </div>

  <!-- Wenn Menü geöffnet: MenuComponent einblenden -->
  @if(menuOpen){
    <app-menu
      [ngStyle]="getMenuComponentStyle()"
      [closeCallback]="closeMenu.bind(this)"
    ></app-menu>
  }
  <!-- Geräte via @for-Block (nur, wenn Menü geschlossen) -->
    @if(!menuOpen){
    @for (device of devices; track device.id; let i = $index) {
      @switch (device.type){
        @case ('pixel') {
          <app-pixel
            [ngStyle]="getStyle(device, i)"
            [style.background-color]="getColor(device.type)"
            (click)="onClick(i)"
          ></app-pixel>
          }
        @case('orange-light') {
          <app-orange-light
            [ngStyle]="getStyle(device, i)"
            [style.background-color]="getColor(device.type)"
            (click)="onClick(i)"
          ></app-orange-light>
        }
        @case('laptop'){
          <app-laptop
            [ngStyle]="getStyle(device, i)"
            [style.background-color]="getColor(device.type)"
            (click)="onClick(i)"
          ></app-laptop>
        }
        @case('creator'){
          <app-creator
            [ngStyle]="getStyle(device, i)"
            [style.background-color]="getColor(device.type)"
            (click)="onClick(i)"
          ></app-creator>
        }
        @case('samsung-tv'){
          <app-samsung-tv
            [ngStyle]="getStyle(device, i)"
            [style.background-color]="getColor(device.type)"
            (deviceClicked)="onClick(i)"
          ></app-samsung-tv>
        }
      }

    }
  }
</div>
