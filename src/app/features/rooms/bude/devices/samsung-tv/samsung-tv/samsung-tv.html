@if (samsung) {
  <!-- Hauptcontainer im Ger√§te-Stil; Kacheln strukturieren die Steuerung -->
  <div class="device samsung-tv" (click)="onDeviceClick()">
    <button class="back-button" (click)="back.emit(); $event.stopPropagation()"><mat-icon>west</mat-icon></button>

    <div class="tiles">
      <!-- Status- und Lautst√§rke-Kachel -->
      <div class="tile" (click)="$event.stopPropagation()">
        <button mat-icon-button class="tv-button" (click)="togglePower(); $event.stopPropagation()">
          <mat-icon [ngClass]="{ 'green-icon': state !== 'off', 'gray-icon': state === 'off' }">power</mat-icon>
        </button>
        <span class="block"><strong>{{ name }}</strong></span>
        <span class="block">Status: {{ state }}</span>
        <span class="block">Lautst√§rke: {{ volume }}%</span>

        <div class="slider-wrapper">
          <app-horizontal-slider
            [value]="volume"
            [min]="0"
            [max]="100"
            [step]="1"
            (valueChange)="setVolume($event)">
          </app-horizontal-slider>
        </div>
        <span class="block">Mute: {{ isMuted }}</span>
      </div>

      <!-- Befehls-Kachel mit Schnellzugriffen und Dropdowns -->
      <div class="tile" (click)="$event.stopPropagation()">
        <div class="remote-wrapper">
          <div class="remote-grid">
            <!-- Row 1: Power | Up | Mute -->
            <button class="tv-button" title="Power" (click)="togglePower(); $event.stopPropagation()">‚èª</button>
            <button class="tv-button" title="Up" (click)="sendSamsungCommand('KEY_UP'); $event.stopPropagation()">‚ñ≤</button>
            <button class="tv-button" title="Mute" (click)="sendSamsungCommand('KEY_MUTE'); $event.stopPropagation()">üîá</button>

            <!-- Row 2: Left | Enter | Right -->
            <button class="tv-button" title="Left" (click)="sendSamsungCommand('KEY_LEFT'); $event.stopPropagation()">‚óÄ</button>
            <button class="tv-button" title="Enter" (click)="sendSamsungCommand('KEY_ENTER'); $event.stopPropagation()">‚èé</button>
            <button class="tv-button" title="Right" (click)="sendSamsungCommand('KEY_RIGHT'); $event.stopPropagation()">‚ñ∂</button>

            <!-- Row 3: Back | Down | Play/Pause -->
            <button class="tv-button" title="Back" (click)="sendSamsungCommand('KEY_RETURN'); $event.stopPropagation()">‚Ü©</button>
            <button class="tv-button" title="Down" (click)="sendSamsungCommand('KEY_DOWN'); $event.stopPropagation()">‚ñº</button>
            <button class="tv-button" title="Play/Pause" (click)="sendSamsungCommand('KEY_PLAY'); $event.stopPropagation()">‚èØ</button>
          </div>

          <div class="num-grid">
            <button class="tv-button" (click)="onDigit('1'); $event.stopPropagation()">1</button>
            <button class="tv-button" (click)="onDigit('2'); $event.stopPropagation()">2</button>
            <button class="tv-button" (click)="onDigit('3'); $event.stopPropagation()">3</button>
            <button class="tv-button" (click)="onDigit('4'); $event.stopPropagation()">4</button>
            <button class="tv-button" (click)="onDigit('5'); $event.stopPropagation()">5</button>
            <button class="tv-button" (click)="onDigit('6'); $event.stopPropagation()">6</button>
            <button class="tv-button" (click)="onDigit('7'); $event.stopPropagation()">7</button>
            <button class="tv-button" (click)="onDigit('8'); $event.stopPropagation()">8</button>
            <button class="tv-button" (click)="onDigit('9'); $event.stopPropagation()">9</button>
            <button class="tv-button span-3" (click)="onDigit('0'); $event.stopPropagation()">0</button>
          </div>
        </div>

        <div class="select-wrapper">
          <!-- FireTV command selector -->
          <select class="tv-select" [(ngModel)]="selectedFireCommand" (change)="sendFireTvCommand(selectedFireCommand!)">
            <option value="" disabled selected>FireTV Befehl</option>
            @for (cmd of fireTvCommands; track cmd) {
              <option [value]="cmd">{{ cmd }}</option>
            }
          </select>

          <!-- Samsung TV command selector -->
          <select class="tv-select" [(ngModel)]="selectedSamsungCommand" (change)="sendSamsungCommand(selectedSamsungCommand!)">
            <option value="" disabled selected>Samsung Befehl</option>
            @for (cmd of samsungCommands; track cmd) {
              <option [value]="cmd">{{ cmd }}</option>
            }
          </select>
        </div>
      </div>
    </div>
    <app-firetv></app-firetv>
  </div>
} @else {
  <div class="device samsung-tv">
    <button class="back-button" (click)="back.emit()">Zur√ºck</button>
    TV nicht gefunden
  </div>
}
