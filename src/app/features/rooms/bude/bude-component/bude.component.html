<app-header
  [userName]="userName"
></app-header>

<div class="dashboard-container">
  <!-- Menü‐Button -->
  <div
    class="menu-button"
    [ngClass]="{ active: menuOpen || activeIndex !== null }"
    (click)="onMenuButtonClick()"
    [ngStyle]="getMenuStyle()"
  >
    <span class="menu-label">Menu</span>
  </div>

  <!-- Wenn Menü geöffnet: MenuComponent einblenden -->
  @if (menuOpen) {
    <app-menu
      [ngStyle]="getMenuComponentStyle()"
      [closeCallback]="closeMenu.bind(this)"
    ></app-menu>
  }
    <!-- Gerätekacheln (nur, wenn Menü geschlossen) -->
    @if (!menuOpen) {
      @for (device of devices; track $index) {
        <div
          class="device-tile"
          [ngClass]="{ 'active-tile': activeIndex === $index }"
          [style.background]="getGradient(device.type)"
          (click)="onTileClick($index)"
        >
          @switch (device.type) {
            @case ('pixel') {
              @if (activeIndex === $index) {
                <app-pixel></app-pixel>
              } @else {
                <app-pixel-minimal></app-pixel-minimal>
              }
            }
            @case ('orange-light') {
              @if (activeIndex === $index) {
                <app-orange-light></app-orange-light>
              } @else {
                <app-orange-light-minimal></app-orange-light-minimal>
              }
            }
            @case ('laptop') {
              @if (activeIndex === $index) {
                <app-laptop></app-laptop>
              } @else {
                <app-laptop-minimal></app-laptop-minimal>
              }
            }
            @case ('creator') {
              @if (activeIndex === $index) {
                <app-creator></app-creator>
              } @else {
                <app-creator-minimal></app-creator-minimal>
              }
            }
            @case('samsung-tv'){
              @if (activeIndex === $index) {
                <app-samsung-tv></app-samsung-tv>
              } @else {
                <app-samsung-tv-minimal></app-samsung-tv-minimal>
              }
            }
          }
        </div>
      }
    }
</div>
