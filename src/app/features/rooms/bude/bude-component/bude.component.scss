
// Grid-Layout für die Geräteübersicht.
// Standardmäßig (Hochformat) 2 Spalten × 3 Zeilen,
// damit Kacheln nicht in die Breite gezogen werden.
.dashboard-container {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  grid-template-rows: repeat(3, 1fr);
  gap: 0.5rem;
  //margin-top: 80px; // Platz für den fixierten Header
  padding: 1rem;
  max-height: calc(100vh - 80px);
  background: radial-gradient(circle at center, rgba(0,150,136,.2), rgba(0,0,0,.9));

  // Wenn es eine ungerade Anzahl an Kacheln gibt,
  // soll die letzte die komplette Zeile füllen.
  .grid-item:last-child:nth-child(odd) {
    grid-column: 1 / -1;
  }

  // Grid-freundlich, verhindert Overflow
  .grid-item { min-width: 0; }
}

// Im Querformat auf 3 Spalten × 2 Zeilen wechseln.
@media (orientation: landscape) {
  .dashboard-container {
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(2, 1fr);
  }
}

/* Detailansicht OHNE Auto-Flow, damit nichts „spaltenweise“ wegläuft */
.dashboard-container.detail-view {
  grid-template-columns: repeat(5, 1fr); // 5 Spalten
  grid-auto-flow: unset;                 // kein Auto-Flow
  gap: 0.25rem;
  // Erste Zeile fix auf 20vh begrenzen, restlicher Platz für die Detailansicht
  grid-template-rows: 18vh 1fr;
}

/* Unterer Content füllt IMMER die komplette Breite */
.dashboard-container .grid-item.active-content {
  grid-row: 2;              // untere Zeile
  grid-column: 1 / -1;      // über alle Spalten
  margin: 0;                // kein horizontaler Leerraum
  width: 100%;
  height: 100%;
}

/* Obere Reihe: eine Spalte über volle Breite; Inhalte als Flex-Items */
.dashboard-container .grid-item.top-row {
  grid-row: 1;              // obere Zeile
  grid-column: 1 / -1;      // über alle Spalten spannen (effektiv 1 "Col" in der Zeile)
  display: flex;            // Flex-Layout für die inaktiven Devices
  flex-direction: column;   // untereinander anordnen
  align-items: stretch;     // volle Breite
  justify-content: flex-start;
  gap: 0.5rem;              // Abstand zwischen den Items
}

/* Inaktive Devices innerhalb der oberen Zeile: jeweils volle Breite */
.dashboard-container .grid-item.top-row > * {
  flex: 0 0 100%;
  width: 100%;
}

/* Verhindert das „Verschieben“ der Buttons, das Platz links übrig lässt */
// Menü-Kachel orientiert sich optisch an den Geräte-Kacheln
.menu-button {
  position: relative;
  border-radius: 8px;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;

  &.active {
    border-radius: 8px;
  }
}

/* Device-Komponenten: volle Fläche, keine inneren Ränder */
:host ::ng-deep app-pixel,
:host ::ng-deep app-pixel-minimal,
:host ::ng-deep app-orange-light,
:host ::ng-deep app-orange-light-minimal,
:host ::ng-deep app-laptop,
:host ::ng-deep app-laptop-minimal,
:host ::ng-deep app-creator,
:host ::ng-deep app-creator-minimal,
:host ::ng-deep app-samsung-tv,
:host ::ng-deep app-samsung-tv-minimal,
:host ::ng-deep app-menu-minimal {
  display: block;
  width: 100%;
  height: 100%;
  border-radius: 8px;
}

// Minimalgeräte skalieren ihre Inhalte flexibel und verhindern Überlauf
:host ::ng-deep app-pixel-minimal .device,
:host ::ng-deep app-orange-light-minimal .device,
:host ::ng-deep app-laptop-minimal .device,
:host ::ng-deep app-creator-minimal .device {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100%;
  overflow: hidden;
}
