/* room-menu-component.scss */

:root {
  /* Dauer der Flug-Phase */
  --flight-dur: 11.5s;
  --rm-button-size: clamp(2.5rem, 6vw, 4rem);

}

.container{
  position: relative;
  width: 90%;
  height: 100%;
  display: flex;
  justify-self: center;
  align-items: center;
  justify-content: center;
}

.menu-container {
  position: relative;
  width: 90%;
  height: 100%;
  overflow: hidden;
}

/* Center- & Circle-Buttons */
.center-btn,
.circle-btn {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  pointer-events: auto;
}

/* === Kreis-Layout (Phasen 1–3) === */
.circle-group {
  position: absolute;
  inset: 0;
  pointer-events: none;
  transform-origin: center center;

  .entity-button {
    width: var(--rm-button-size);
    height: var(--rm-button-size);
    font-size: calc(var(--rm-button-size) * 0.5); // Icon/Text etwas kleiner
  }

  /* Radius & Align-Variablen */
  --r: 200px;
  --target-delta: 0deg;
  --spin-to-dur: 1s;

  /* 1) Wheel: 1 s Ease-In → 3 s/Umdrehung konstant */
  &.animate {
    animation: spinUp 1s ease-in forwards,
    spinConstant 3s linear calc(1s) infinite;
  }

  /* 3) Align bis geklickter Button oben steht */
  &.align {
    animation: spinToTop var(--spin-to-dur) ease-in forwards;
  }
}

/* Positionierung auf Kreis */
.circle-btn {
  transform-origin: center center;
  transform: translate(-50%, -50%) rotate(var(--angle)) translate(var(--r)) rotate(calc(-1 * var(--angle)));
}

.circle-group.flight {
  // Beispiel: Einmal drehen und auseinanderfliegen
  animation: flight var(--spin-to-dur) ease-out forwards;
}

.circle-group.flight .circle-btn {
  // Dreh-Translation um den Winkel herum
  transform:
    rotate(var(--angle))
    translate( /* Dein Radius */ )
    rotate(calc(-1 * var(--angle)));
}

@keyframes flight {
  to {
    opacity: 0;
    transform: translate(var(--target-delta));
  }
}

/* === Flug-Phase (Phase 3→4) === */
.circle-group.flight .circle-btn {
  animation: flight var(--spin-to-dur) ease-out forwards;
}

/* Ballistische Flugkurve */
@keyframes flight {

  0% {
    opacity: 0;
    transform: translate(-50%, -50%) translate(0, 0);
  }
  50% {
    opacity: 0;
    transform: translate(-50%, -50%) translate(-24%, -20%);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) translate(-48%, 0);
  }
}

/* === Items oben (Phase 4) === */
.flight-container {
  position: absolute;
  top: 10%;
  left: 50%;
  width: 90%;
  transform: translateX(-50%);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem;
  pointer-events: auto;

  app-button {
    position: static !important;
    transform: none !important;
  }
}

.flight-items {
  display: flex;
  flex: 1;
  justify-content: space-evenly;
}

/* === Keyframes für Wheel & Align === */
@keyframes spinUp {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(-360deg);
  }
}

@keyframes spinConstant {
  from {
    transform: rotate(-360deg);
  }
  to {
    transform: rotate(-720deg);
  }
}

@keyframes spinToTop {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(calc(-1 * var(--target-delta)));
  }
}
