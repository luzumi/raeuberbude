<div class="menu-container">

  <!-- Kreis & Animation -->
  @if (!selectedEntity) {
    <app-button
      [name]="menuEntity.name" [icon]="menuEntity.icon"
      (click)="onMenuClick()" [active]="menuVisible"
      [style.left.%]="50" [style.top.%]="50"
      class="center-btn"
    ></app-button>

    <div class="circle-group" [class.animate]="animateSequence">
      @for ( e of entities; track e.name; ) {
        <app-button
          [name]="e.name" [svgIcon]="e.svgIcon" [color]="e.color ?? 'red'"
          (click)="openEntity(e)"
          [style.left.%]="e.left" [style.top.%]="e.top"
          class="circle-btn"
        ></app-button>
      }
    </div>

    @if (menuVisible) {
      <app-function-menu [entity]="menuEntity" (close)="closeFunctionMenu()"></app-function-menu>
    }
  }

  <!-- Sidebar -->
  @if (selectedEntity) {
    <div class="sidebar-container">
      <app-button
        name="ZurÃ¼ck"
        icon="arrow_back"
        (click)="closeEntity()"
        [active]="false"
        style="transform:scale(50%)"
      ></app-button>

      <app-button
        [name]="menuEntity.name"
        [icon]="menuEntity.icon"
        (click)="onMenuClick()"
        [active]="false"
        style="transform:scale(50%)"
      ></app-button>

      @for ( e of sidebarItems; track e.name; ) {
        <app-button
          [name]="e.name"
          [svgIcon]="e.svgIcon"
          (click)="openEntity(e)"
          [active]="selectedEntity===e"
          style="transform:scale(50%)"
        ></app-button>
      }
    </div>
    <div class="entity-detail-container"></div>
  }
</div>
