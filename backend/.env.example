# Connection string for MongoDB. If you use docker-compose (mongo exposes 27018), use 27018.
MONGO_URI=mongodb://rb_root:rb_secret@localhost:27018/raueberbude?authSource=admin

# Alternatively configure parts (NestJS will assemble the URI if MONGO_URI is not set)
NEST_PORT=3001
CORS_ORIGINS=http://localhost:4200,http://127.0.0.1:4200
API_PORT=3002
MONGO_HOST=localhost
MONGO_PORT=27018
MONGO_DB=raueberbude
MONGO_USER=rb_root
MONGO_PASSWORD=rb_secret
MONGO_AUTH_SOURCE=admin

# Docker Compose (MongoDB) initialization variables
MONGO_INITDB_ROOT_USERNAME=rb_root
MONGO_INITDB_ROOT_PASSWORD=rb_secret
MONGO_INITDB_DATABASE=raueberbude

# HomeAssistant Bootstrap-Import beim App-Start
# Werte: never | if_empty | always
HA_IMPORT_ON_START=always
# Optionaler Pfad zur JSON-Datei (absolut oder relativ zum Arbeitsverzeichnis)
# Beispiel: ../../ha_structure_2025-10-30T11-32-32.058Z.json
# HA_IMPORT_FILE=
# Bei Fehlern den App-Start abbrechen?
HA_IMPORT_FAIL_ON_ERROR=false

# Legacy variable used by the legacy Express server (kept for compatibility)
MONGODB_URI=mongodb://localhost:27017/logging

## PostgreSQL (legacy) was removed. Use MongoDB for all data stores.

# Speech-to-Text (STT) Configuration
STT_ENABLED=true
STT_PRIMARY=vosk
STT_SECONDARY=whisper
STT_LANG=de-DE
STT_MAX_DURATION_MS=30000

# Vosk Server Configuration
VOSK_WS_URL=ws://localhost:2700
VOSK_PORT=2700

# Whisper Server Configuration
WHISPER_URL=http://localhost:9090/transcribe
WHISPER_PORT=9090
WHISPER_MODEL=base
WHISPER_LANGUAGE=de

# Body Size Limit for Audio Upload
NEST_BODY_LIMIT_MB=25
